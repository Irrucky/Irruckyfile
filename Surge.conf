[General]
# 日志级别
loglevel = notify
# 测试超时
test-timeout = 3
# 直连网络测试
internet-test-url = http://taobao.com/
# 代理服务测试
proxy-test-url = http://cp.cloudflare.com/generate_204
# 自定义数据库
geoip-maxmind-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# UDP 优先
udp-priority = false
# 常规 DNS
dns-server = 119.29.29.29, 223.5.5.5
# 加密 DNS
encrypted-dns-server = quic://223.5.5.5, quic://223.6.6.6, https://1.12.12.12/dns-query, https://120.53.53.53/dns-query
# DNS劫持
hijack-dns = *:53
# 排除简单主机名
exclude-simple-hostnames = true
# 显示拒绝错误页
show-error-page-for-reject = true
# >UDP回退
udp-policy-not-supported-behaviour = REJECT

[Proxy Group]
# 
𝐏𝐫𝐨𝐱𝐲 = select, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, 𝐉𝐏 𝐬𝐦𝐚𝐫𝐭, 𝐊𝐑 𝐬𝐦𝐚𝐫𝐭, 𝐒𝐆 𝐬𝐦𝐚𝐫𝐭, 𝐔𝐒 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 
𝐀𝐩𝐩𝐥𝐞 = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
# 
𝐘𝐨𝐮𝐓𝐮𝐛𝐞 = select, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, 𝐉𝐏 𝐬𝐦𝐚𝐫𝐭, 𝐊𝐑 𝐬𝐦𝐚𝐫𝐭, 𝐒𝐆 𝐬𝐦𝐚𝐫𝐭, 𝐔𝐒 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 
𝐆𝐨𝐨𝐠𝐥𝐞 = select, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, 𝐉𝐏 𝐬𝐦𝐚𝐫𝐭, 𝐊𝐑 𝐬𝐦𝐚𝐫𝐭, 𝐒𝐆 𝐬𝐦𝐚𝐫𝐭, 𝐔𝐒 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 苹果服务
𝐓𝐞𝐥𝐞𝐠𝐫𝐚𝐦 = select, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, 𝐉𝐏 𝐬𝐦𝐚𝐫𝐭, 𝐊𝐑 𝐬𝐦𝐚𝐫𝐭, 𝐒𝐆 𝐬𝐦𝐚𝐫𝐭, 𝐔𝐒 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 港台番剧
𝐓𝐰𝐢𝐭𝐭𝐞𝐫 = select, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, 𝐉𝐏 𝐬𝐦𝐚𝐫𝐭, 𝐊𝐑 𝐬𝐦𝐚𝐫𝐭, 𝐒𝐆 𝐬𝐦𝐚𝐫𝐭, 𝐔𝐒 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 全球加速
𝐎𝐩𝐞𝐧𝐀𝐈 = select, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, 𝐉𝐏 𝐬𝐦𝐚𝐫𝐭, 𝐊𝐑 𝐬𝐦𝐚𝐫𝐭, 𝐒𝐆 𝐬𝐦𝐚𝐫𝐭, 𝐔𝐒 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 香港节点
𝐁𝐢𝐥𝐢𝐛𝐢𝐥𝐢 = select, DIRECT, 𝐇𝐊 𝐬𝐦𝐚𝐫𝐭, 𝐓𝐖 𝐬𝐦𝐚𝐫𝐭, no-alert=0, hidden=0, include-all-proxies=0
# 台湾节点
𝐇𝐊 𝐬𝐦𝐚𝐫𝐭 = smart, update-interval=1800, policy-regex-filter=香港|港|🇭🇰|HK|(?i)Hong, no-alert=1, hidden=1, include-all-proxies=0, policy-path=你的订阅地址
# 日本节点
𝐓𝐖 𝐬𝐦𝐚𝐫𝐭 = smart, update-interval=1800, policy-regex-filter=台湾|台|🇹🇼|TW|(?i)Taiwan, no-alert=1, hidden=1, include-all-proxies=0, policy-path=你的订阅地址
# 韩国节点
𝐉𝐏 𝐬𝐦𝐚𝐫𝐭 = smart, update-interval=1800, policy-regex-filter=日本|日|🇯🇵|JP|(?i)Japan, no-alert=1, hidden=1, include-all-proxies=0, policy-path=你的订阅地址
# 新加坡节点
𝐊𝐑 𝐬𝐦𝐚𝐫𝐭 = smart, update-interval=1800, policy-regex-filter=韩国|韩|🇰🇷|KR|(?i)Korea, no-alert=1, hidden=1, include-all-proxies=0, policy-path=你的订阅地址
# 美国节点
𝐒𝐆 𝐬𝐦𝐚𝐫𝐭 = smart, update-interval=1800, policy-regex-filter=新加坡|新|🇸🇬|SG|(?i)Singapore, no-alert=1, hidden=1, include-all-proxies=0, policy-path=你的订阅地址
# > 线路服务商
𝐔𝐒 𝐬𝐦𝐚𝐫𝐭 = smart, update-interval=1800, policy-regex-filter=美国|美|🇺🇸|US|(?i)States, no-alert=1, hidden=1, include-all-proxies=0, policy-path=你的订阅地址

[Rule]
# > 防止应用循环请求
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# > NoAd
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list,REJECT
RULE-SET,http://script.hub/file/_start_/https://raw.githubusercontent.com/RuCu6/QuanX/main/Rules/MyBlockAds.list/_end_/qx_RuCu6_MyBlockAds.list?type=rule-set&target=surge-rule-set&x=mall.bilibili.com%2Bpassport.bilibili.com&del=true&nore=true&sni=httpdns%2B163,REJECT
RULE-SET,http://script.hub/file/_start_/https://raw.githubusercontent.com/RuCu6/QuanX/main/Rules/PornAds.list/_end_/PornAds.list?type=rule-set&target=surge-rule-set&del=true,REJECT
# > 运营劫持
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,REJECT
# > 隐私保护
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,REJECT
# > 港台番剧
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,𝐁𝐢𝐥𝐢𝐛𝐢𝐥𝐢
# > 苹果服务
RULE-SET,https://raw.githubusercontent.com/Repcz/Tool/X/Surge/Rules/Apple.list,𝐀𝐩𝐩𝐥𝐞
# > Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,𝐓𝐞𝐥𝐞𝐠𝐫𝐚𝐦
# > YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,𝐘𝐨𝐮𝐓𝐮𝐛𝐞
# > OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,𝐎𝐩𝐞𝐧𝐀𝐈
# > X
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,𝐓𝐰𝐢𝐭𝐭𝐞𝐫
# > Github
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,𝐏𝐫𝐨𝐱𝐲
# > Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,𝐆𝐨𝐨𝐠𝐥𝐞
# > WeChat
RULE-SET,https://github.com/NobyDa/Script/raw/master/Surge/WeChat.list,DIRECT
# > GeoIP China
RULE-SET,http://script.hub/file/_start_/https://raw.githubusercontent.com/Repcz/Tool/X/QuantumultX/Rules/FILTER_REGION.snippet/_end_/FILTER_REGION.list?type=rule-set&target=surge-rule-set&del=true,DIRECT
# GEOIP,CN,DIRECT
# >上面二选一
# RULE-SET,SYSTEM,DIRECT
# RULE-SET,LAN,DIRECT
# > 最终规则
FINAL,𝐏𝐫𝐨𝐱𝐲,dns-failed

[Host]
*.qq.com = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.weixin.com = server:119.29.29.29

[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302

[MITM]
# 跳过验证与HTTP/2
skip-server-cert-verify = true
h2 = true
hostname = -*.apple.com, -*.icloud.com, -*.mzstatic.com, www.google.cn
